import{r as c,j as e,p as f,u as v,U as N,q as y,s as A,t as S}from"./index-Cz5C6War.js";const k="_container_wellcome_1c2zf_1",$="_background_icon_1c2zf_23",C="_bot_name_1c2zf_45",E="_bot_description_1c2zf_75",g={container_wellcome:k,background_icon:$,bot_name:C,bot_description:E},z="_login_box_cjgnv_23",L="_avatar_cjgnv_59",O="_text_cjgnv_73",R="_text_small_cjgnv_93",U="_input_group_cjgnv_111",D="_buttons_cjgnv_179",F="_active_cjgnv_221",I="_disabled_cjgnv_255",o={login_box:z,avatar:L,text:O,text_small:R,input_group:U,buttons:D,active:F,disabled:I},G="_dropdown_1s57b_5",M="_dropdown_header_1s57b_21",q="_icon_1s57b_55",B="_rotate_1s57b_63",H="_dropdown_list_1s57b_71",T="_show_1s57b_105",W="_dropdown_item_1s57b_117",J="_item_label_1s57b_143",a={dropdown:G,dropdown_header:M,icon:q,rotate:B,dropdown_list:H,show:T,dropdown_item:W,item_label:J},K=({options:x,placeholder:d="Выберите...",multiple:i=!1,onSelect:m})=>{const[l,_]=c.useState(!1),[t,u]=c.useState(i?[]:""),r=c.useRef(null),p=s=>{i?u(n=>{const h=Array.isArray(n)?[...n]:[];if(h.includes(s)){const b=h.filter(w=>w!==s);return m(b),b}else{const b=[...h,s];return m(b),b}}):(u(s),m(s),_(!1))};c.useEffect(()=>{const s=n=>{r.current&&!r.current.contains(n.target)&&_(!1)};return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[]);const j=()=>i?Array.isArray(t)&&t.length>0?t.join(", "):d:typeof t=="string"&&t?t:d;return e.jsxs("div",{className:a.dropdown,ref:r,children:[e.jsxs("div",{className:a.dropdown_header,onClick:()=>_(!l),children:[j(),e.jsx(f,{className:`${a.icon} ${l?a.rotate:""}`})]}),l&&e.jsx("ul",{className:`${a.dropdown_list} ${l?a.show:""}`,children:x.map((s,n)=>e.jsxs("li",{className:a.dropdown_item,onClick:()=>p(s),children:[e.jsx("span",{className:a.item_label,children:s}),i&&e.jsx("input",{type:"checkbox",checked:Array.isArray(t)?t.includes(s):!1,readOnly:!0})]},n))})]})},P=()=>{const[x,d]=c.useState(""),i=v(),[m,l]=c.useState([]),[_,t]=c.useState([]),u=new N,r=x.trim(),p=r.length>=5&&_.length>0;c.useEffect(()=>{u.getAllGroups().then(n=>l(n));const s=localStorage.getItem("name");s&&d(s)},[]);const j=async()=>{p&&(await u.setNameAndTypes(r,_),localStorage.setItem("name",r),i("/user"))};return e.jsxs("div",{className:o.login_box,children:[e.jsx(y,{className:o.avatar,size:60}),e.jsx("p",{className:o.text,children:"Вход"}),e.jsx("p",{className:o.text_small,children:"Укажите свои данные для продолжения"}),e.jsxs("div",{className:o.input_group,children:[e.jsx(A,{}),e.jsx("input",{placeholder:"ФИО",value:x,onChange:s=>d(s.target.value)})]}),e.jsx(K,{options:m,placeholder:"Выберите группы, к которой относитесь",onSelect:s=>t(Array.isArray(s)?s:[s]),multiple:!0}),e.jsx("div",{className:o.buttons,children:e.jsx("button",{className:p?o.active:o.disabled,disabled:!p,onClick:j,children:"Вход"})})]})},V=()=>e.jsxs("div",{className:`${g.container_wellcome}`,children:[e.jsx("div",{className:`${g.background_icon}`,children:e.jsx(S,{size:50,color:"white"})}),e.jsx("p",{className:`${g.bot_name}`,children:"SOSAitu"}),e.jsxs("p",{className:`${g.bot_description}`,children:["Удобный помощник для ",e.jsx("br",{})," общения и решения вопросов просто,",e.jsx("br",{})," быстро и всегда под рукой"]}),e.jsx(P,{})]});export{V as default};
