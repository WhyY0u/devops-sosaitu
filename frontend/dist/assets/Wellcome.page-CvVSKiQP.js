import{r as a,j as e,p as f,u as v,U as N,q as y,s as A,t as S}from"./index-DT71n9Cl.js";const k="_container_wellcome_1c2zf_1",$="_background_icon_1c2zf_23",C="_bot_name_1c2zf_45",E="_bot_description_1c2zf_75",g={container_wellcome:k,background_icon:$,bot_name:C,bot_description:E},z="_login_box_cjgnv_23",L="_avatar_cjgnv_59",O="_text_cjgnv_73",R="_text_small_cjgnv_93",U="_input_group_cjgnv_111",D="_buttons_cjgnv_179",F="_active_cjgnv_221",I="_disabled_cjgnv_255",o={login_box:z,avatar:L,text:O,text_small:R,input_group:U,buttons:D,active:F,disabled:I},G="_dropdown_1s57b_5",M="_dropdown_header_1s57b_21",q="_icon_1s57b_55",B="_rotate_1s57b_63",H="_dropdown_list_1s57b_71",T="_show_1s57b_105",W="_dropdown_item_1s57b_117",J="_item_label_1s57b_143",c={dropdown:G,dropdown_header:M,icon:q,rotate:B,dropdown_list:H,show:T,dropdown_item:W,item_label:J},K=({options:d,placeholder:m="Выберите...",multiple:r=!1,onSelect:u})=>{const[i,l]=a.useState(!1),[t,p]=a.useState(r?[]:""),_=a.useRef(null),b=s=>{r?p(n=>{const h=Array.isArray(n)?[...n]:[];if(h.includes(s)){const x=h.filter(w=>w!==s);return u(x),x}else{const x=[...h,s];return u(x),x}}):(p(s),u(s),l(!1))};a.useEffect(()=>{const s=n=>{_.current&&!_.current.contains(n.target)&&l(!1)};return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[]);const j=()=>r?Array.isArray(t)&&t.length>0?t.join(", "):m:typeof t=="string"&&t?t:m;return e.jsxs("div",{className:c.dropdown,ref:_,children:[e.jsxs("div",{className:c.dropdown_header,onClick:()=>l(!i),children:[j(),e.jsx(f,{className:`${c.icon} ${i?c.rotate:""}`})]}),i&&e.jsx("ul",{className:`${c.dropdown_list} ${i?c.show:""}`,children:d.map((s,n)=>e.jsxs("li",{className:c.dropdown_item,onClick:()=>b(s),children:[e.jsx("span",{className:c.item_label,children:s}),r&&e.jsx("input",{type:"checkbox",checked:Array.isArray(t)?t.includes(s):!1,readOnly:!0})]},n))})]})},P=()=>{const[d,m]=a.useState(""),r=v(),[u,i]=a.useState([]),[l,t]=a.useState([]),p=new N,_=d.trim(),b=_.length>=5&&l.length>0;a.useEffect(()=>{p.getAllGroups().then(n=>i(n));const s=localStorage.getItem("name");s&&m(s)},[]);const j=()=>{b&&(p.setNameAndTypes(d,l),localStorage.setItem("name",_),r("/user"))};return e.jsxs("div",{className:o.login_box,children:[e.jsx(y,{className:o.avatar,size:60}),e.jsx("p",{className:o.text,children:"Вход"}),e.jsx("p",{className:o.text_small,children:"Укажите свои данные для продолжения"}),e.jsxs("div",{className:o.input_group,children:[e.jsx(A,{}),e.jsx("input",{placeholder:"ФИО",value:d,onChange:s=>m(s.target.value)})]}),e.jsx(K,{options:u,placeholder:"Выберите группы, к которой относитесь",onSelect:s=>t(Array.isArray(s)?s:[s]),multiple:!0}),e.jsx("div",{className:o.buttons,children:e.jsx("button",{className:b?o.active:o.disabled,disabled:!b,onClick:j,children:"Вход"})})]})},V=()=>e.jsxs("div",{className:`${g.container_wellcome}`,children:[e.jsx("div",{className:`${g.background_icon}`,children:e.jsx(S,{size:50,color:"white"})}),e.jsx("p",{className:`${g.bot_name}`,children:"SOSAitu"}),e.jsxs("p",{className:`${g.bot_description}`,children:["Удобный помощник для ",e.jsx("br",{})," общения и решения вопросов просто,",e.jsx("br",{})," быстро и всегда под рукой"]}),e.jsx(P,{})]});export{V as default};
