import{r,j as e,p as y,u as f,U as N,q as v,s as A,t as S}from"./index-CKLftP6T.js";const k="_container_wellcome_beqb4_1",$="_background_icon_beqb4_12",C="_bot_name_beqb4_23",E="_bot_description_beqb4_38",h={container_wellcome:k,background_icon:$,bot_name:C,bot_description:E},q="_login_box_6326y_12",L="_avatar_6326y_30",O="_text_6326y_37",R="_text_small_6326y_47",U="_input_group_6326y_56",D="_buttons_6326y_90",F="_active_6326y_111",I="_disabled_6326y_128",o={login_box:q,avatar:L,text:O,text_small:R,input_group:U,buttons:D,active:F,disabled:I},z="_dropdown_1ibuu_3",G="_dropdown_header_1ibuu_11",M="_icon_1ibuu_28",B="_rotate_1ibuu_32",H="_dropdown_list_1ibuu_36",T="_show_1ibuu_53",W="_dropdown_item_1ibuu_59",J="_item_label_1ibuu_72",a={dropdown:z,dropdown_header:G,icon:M,rotate:B,dropdown_list:H,show:T,dropdown_item:W,item_label:J},K=({options:d,placeholder:u="Выберите...",multiple:c=!1,onSelect:m})=>{const[i,l]=r.useState(!1),[t,b]=r.useState(c?[]:""),_=r.useRef(null),p=s=>{c?b(n=>{const g=Array.isArray(n)?[...n]:[];if(g.includes(s)){const x=g.filter(j=>j!==s);return m(x),x}else{const x=[...g,s];return m(x),x}}):(b(s),m(s),l(!1))};r.useEffect(()=>{const s=n=>{_.current&&!_.current.contains(n.target)&&l(!1)};return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[]);const w=()=>c?Array.isArray(t)&&t.length>0?t.join(", "):u:typeof t=="string"&&t?t:u;return e.jsxs("div",{className:a.dropdown,ref:_,children:[e.jsxs("div",{className:a.dropdown_header,onClick:()=>l(!i),children:[w(),e.jsx(y,{className:`${a.icon} ${i?a.rotate:""}`})]}),i&&e.jsx("ul",{className:`${a.dropdown_list} ${i?a.show:""}`,children:d.map((s,n)=>e.jsxs("li",{className:a.dropdown_item,onClick:()=>p(s),children:[e.jsx("span",{className:a.item_label,children:s}),c&&e.jsx("input",{type:"checkbox",checked:Array.isArray(t)?t.includes(s):!1,readOnly:!0})]},n))})]})},P=()=>{const[d,u]=r.useState(""),c=f(),[m,i]=r.useState([]),[l,t]=r.useState([]),b=new N,_=d.trim(),p=_.length>=5&&l.length>0;r.useEffect(()=>{b.getAllGroups().then(n=>i(n));const s=localStorage.getItem("name");s&&u(s)},[]);const w=()=>{p&&(b.setNameAndTypes(d,l),localStorage.setItem("name",_),c("/user"))};return e.jsxs("div",{className:o.login_box,children:[e.jsx(v,{className:o.avatar,size:60}),e.jsx("p",{className:o.text,children:"Вход"}),e.jsx("p",{className:o.text_small,children:"Укажите свои данные для продолжения"}),e.jsxs("div",{className:o.input_group,children:[e.jsx(A,{}),e.jsx("input",{placeholder:"ФИО",value:d,onChange:s=>u(s.target.value)})]}),e.jsx(K,{options:m,placeholder:"Выберите группы, к которой относитесь",onSelect:s=>t(Array.isArray(s)?s:[s]),multiple:!0}),e.jsx("div",{className:o.buttons,children:e.jsx("button",{className:p?o.active:o.disabled,disabled:!p,onClick:w,children:"Вход"})})]})},V=()=>e.jsxs("div",{className:`${h.container_wellcome}`,children:[e.jsx("div",{className:`${h.background_icon}`,children:e.jsx(S,{size:50,color:"white"})}),e.jsx("p",{className:`${h.bot_name}`,children:"SOSAitu"}),e.jsxs("p",{className:`${h.bot_description}`,children:["Удобный помощник для ",e.jsx("br",{})," общения и решения вопросов просто,",e.jsx("br",{})," быстро и всегда под рукой"]}),e.jsx(P,{})]});export{V as default};
